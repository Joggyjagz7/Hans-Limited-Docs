# Tutorial: Setup and Ping Endpoint

## Goal

Connect to the **Hanswitch API**, authenticate your request, and receive a successful response from the basic health check endpoint.

---

## Audience

**Beginner Developer**

### Prerequisites

You must have an **active API Key** (available on your **Partner Dashboard**).

---

## Step 1: Secure Your API Key

For this tutorial, we’ll use the `X-API-KEY` header for authentication.

> ⚠️ **CRITICAL SECURITY WARNING:**  
> Never expose your API Key in front-end code, version control (like Git), or public logs.  
> Always store it as a **secure environment variable**.

### Environment Variable Setup (Linux/macOS)

```bash
export HAN_API_KEY="your-secret-key-here-12345"
echo "API Key set successfully."
```

## 🔗 Step 2: Test the Connection with the Ping Endpoint

The `/api/v1/ping` endpoint requires **no input data** and is used solely to confirm authentication and service availability.

### Option A: Using cURL 

This is the fastest way to confirm your setup.

```bash
# We use the $HAN_API_KEY environment variable set in Step 1
curl -X GET "https://api.han-limited.com/api/v1/ping" \
     -H "Content-Type: application/json" \
     -H "X-API-KEY: ${HAN_API_KEY}"
```

### Option B: Using Python

```python
import os
import requests
import json

# Fetch the API Key from environment variables
API_KEY = os.environ.get("HAN_API_KEY")

if not API_KEY:
    print("Error: HAN_API_KEY environment variable is not set.")
    exit(1)

API_ENDPOINT = "[https://api.han-limited.com/api/v1/ping](https://api.han-limited.com/api/v1/ping)"

headers = {
    "Content-Type": "application/json",
    "X-API-KEY": API_KEY  # Authentication header
}

try:
    response = requests.get(API_ENDPOINT, headers=headers)
    response.raise_for_status() # Raises an HTTPError for bad responses (4xx or 5xx)

    print("--- SUCCESS ---")
    print(f"Status Code: {response.status_code}")
    print("Response Body:")
    print(json.dumps(response.json(), indent=2))

except requests.exceptions.HTTPError as err:
    print(f"--- FAILURE ---")
    print(f"HTTP Error: {err}")
    print(f"Response Body: {response.text}")
except requests.exceptions.RequestException as e:
    print(f"--- CONNECTION ERROR ---")
    print(f"An error occurred: {e}")
```

### Expected Successful Response (HTTP Status 200 OK)
```json
{
  "status": "success",
  "message": "Pong! API is operational.",
  "timestamp": "2025-10-16T14:30:00Z"
}
```

## Step 3: Troubleshooting Common Errors

Below are common error responses you may encounter when testing the **Han Limited API**.

| **Status Code** | **Potential Cause** | **Fix** |
|-----------------|---------------------|---------|
| **401 Unauthorized** | Missing or incorrect `X-API-KEY` header. | Double-check that `HAN_API_KEY` is set correctly and the header is spelled exactly as `X-API-KEY`. |
| **403 Forbidden** | API Key may be revoked or restricted (e.g., firewall blocked). | Contact **Han Support** to verify your key's status. |
| **500 Internal Server Error** | Our issue. | Check the Han Limited [Status Page](#) for known outages. |

---

> 💡 **Tip:**  
> If none of these fixes resolve your issue, try regenerating your API key from the Partner Dashboard and repeat the setup steps.


